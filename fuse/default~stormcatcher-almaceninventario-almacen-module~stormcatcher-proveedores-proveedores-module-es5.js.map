{"version":3,"sources":["webpack:///./src/app/main/apps/stormcatcher/proveedores/proveedores.model.ts","webpack:///./src/app/main/apps/stormcatcher/proveedores/proveedores.service.ts"],"names":[],"mappings":"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","file":"default~stormcatcher-almaceninventario-almacen-module~stormcatcher-proveedores-proveedores-module-es5.js","sourcesContent":["import { FuseUtils } from '@fuse/utils';\r\n\r\nexport class Proveedor\r\n{\r\n    id: string;\r\n    name: string;\r\n    rfc: string;\r\n    calle: string;\r\n    ciudad: string;\r\n    cp: string;\r\n    tipoProducto: string;\r\n    avatar: string;\r\n    nickname: string;\r\n    company: string;\r\n    jobTitle: string;\r\n    email: string;\r\n    phone: string;\r\n    address: string;\r\n    birthday: string;\r\n    notes: string;\r\n\r\n    /**\r\n     * Constructor\r\n     *\r\n     * @param contact\r\n     */\r\n    constructor(contact)\r\n    {\r\n        {\r\n            this.id = contact.id || FuseUtils.generateGUID();\r\n            this.name = contact.name || '';\r\n            this.rfc = contact.rfc || '';\r\n            this.calle = contact.calle || '';\r\n            this.ciudad = contact.ciudad || '';\r\n            this.cp = contact.cp || '';\r\n            this.tipoProducto = contact.tipoProducto || '';\r\n            this.avatar = contact.avatar || 'assets/images/avatars/proveedor.jpg';\r\n            this.nickname = contact.nickname || '';\r\n            this.company = contact.company || '';\r\n            this.jobTitle = contact.jobTitle || '';\r\n            this.email = contact.email || '';\r\n            this.phone = contact.phone || '';\r\n            this.address = contact.address || '';\r\n            this.birthday = contact.birthday || '';\r\n            this.notes = contact.notes || '';\r\n        }\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ActivatedRouteSnapshot, Resolve, RouterStateSnapshot } from '@angular/router';\nimport { BehaviorSubject, Observable, Subject } from 'rxjs';\n\nimport { FuseUtils } from '@fuse/utils';\n\nimport { Proveedor } from 'app/main/apps/stormcatcher/proveedores/proveedores.model';\nimport { JmyService } from 'app/concomsis/jmy/jmy.service';\nimport { ValidateEmail,ValidateAt } from 'app/concomsis/jmy/utilidades';\nimport { ContactosListMinInterface , infoPerfilInterface } from 'app/concomsis/jmy/interfaces/services';\nimport { FormGroup } from '@angular/forms';\n\n@Injectable()\nexport class SCProvedoresService implements Resolve<any>\n{\n    onContactsChanged: BehaviorSubject<any>;\n    onSelectedContactsChanged: BehaviorSubject<any>;\n    onUserDataChanged: BehaviorSubject<any>;\n    onSearchTextChanged: Subject<any>;\n    onFilterChanged: Subject<any>;\n    t:any;\n    contacts: Proveedor[];\n    newContact:  BehaviorSubject<ContactosListMinInterface[]>;\n    user: any;\n    selectedContacts: string[] = [];\n\n    searchText: string;\n    filterBy: string;\n    validateEmail=ValidateEmail;\n    validateAt=ValidateAt;\n    baseDB:string;\n    /**\n     * Constructor\n     *\n     * @param {HttpClient} _httpClient\n     */\n    constructor(\n        private _httpClient: HttpClient,\n        private jmyService: JmyService\n    )\n    {\n        // Set the defaults\n        this.onContactsChanged = new BehaviorSubject([]);\n        this.onSelectedContactsChanged = new BehaviorSubject([]);\n        this.onUserDataChanged = new BehaviorSubject([]);\n        this.newContact = new BehaviorSubject([]);\n        this.onSearchTextChanged = new Subject();\n        this.onFilterChanged = new Subject();\n        this.contacts =[]\n        this.baseDB='';\n        this.jmyService.jmyPerfil.perfilChange.subscribe(perfil=>{\n            this.baseDB='/sc/'+perfil.eid+'/proveedores';\n            \n        })\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * Resolver\n     *\n     * @param {ActivatedRouteSnapshot} route\n     * @param {RouterStateSnapshot} state\n     * @returns {Observable<any> | Promise<any> | any}\n     */\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> | Promise<any> | any\n    {\n        return new Promise((resolve, reject) => {\n\n            Promise.all([\n                this.getContacts(),\n                this.getUserData()\n            ]).then(\n                ([files]) => {\n\n                    this.onSearchTextChanged.subscribe(searchText => {\n                        this.searchText = searchText;\n                        this.getContacts();\n                    });\n\n                    this.onFilterChanged.subscribe(filter => {\n                        this.filterBy = filter;\n                        this.getContacts();\n                    });\n\n                    resolve();\n\n                },\n                reject\n            );\n        });\n    }\n    public saveNewContact(d:any){\n        console.log(this.jmyService.jmyPerfil.rutaPrivada);\n        if(this.baseDB!='')\n            this.jmyService.dbRealTime.object(this.baseDB+'/'+d.id).set(d).then(()=>{\n                console.log('Nuevo contacto agregado',this.searchText);\n                this.searchText='';\n            });\n        else\n            console.error('No hay sesión');\n            \n    }\n    public getNewContact(): any {\n        const studentsObservable = new Observable(observer => {\n               setTimeout(() => {\n                   console.log(this.newContact);\n                   \n                   observer.next(this.newContact);\n               }, 1000);\n        });\n   \n        return studentsObservable;\n    }\n    /**\n     * Get contacts\n     *\n     * @returns {Promise<any>}\n     */\n    getContacts(): Promise<any>\n    {\n        return new Promise((resolve, reject) => {\n                //this._httpClient.get('api/contacts-contacts')\n                let tBus:string='';\n                console.log(this.baseDB+'/');\n                \n                    const contactos:any = this.jmyService.dbRealTime.object(this.baseDB+'/').valueChanges();\n                    contactos.subscribe(response=>{\n                        const fn=(rdb:any)=>{\n                            const t:any=[];\n                            if(typeof rdb==\"object\")\n                              Object.keys(rdb).forEach(e => {\n                                t.push(rdb[e]);\n                              });\n                            return t;\n                          }\n                        this.contacts  =(response!=undefined)?fn(response):this.contacts;\n                        console.log(this.contacts,response );\n\n                        if ( this.filterBy === 'starred' )\n                        {\n                            this.contacts = this.contacts.filter(_contact => {\n                                return this.user.starred.includes(_contact.id);\n                            });\n                        }\n\n                        if ( this.filterBy === 'frequent' )\n                        {\n                            this.contacts = this.contacts.filter(_contact => {\n                                return this.user.frequentContacts.includes(_contact.id);\n                            });\n                        }\n\n                        if ( this.searchText && this.searchText !== '' )\n                        {\n                            \n                            this.contacts = FuseUtils.filterArrayByString(this.contacts, this.searchText);\n                            console.log(this.searchText);\n                            if(this.searchText.length>4){\n                                tBus=(this.validateAt(this.searchText))?'email':'displayName';\n                                this.jmyService.dbRealTime.list(this.jmyService.jmyPerfil.rutaPublica+'lista/',ref=>ref.orderByChild(tBus).startAt(this.searchText).endAt(this.searchText+'\\uf8ff')).valueChanges().subscribe(r=>{\n                                console.log(r);\n                                \n                                    let tm=[];\n                                    r.forEach(e => {\n                                    tm.push({\n                                            photoURL:e['photoURL'],\n                                            email:e['email'],\n                                            uid:e['uid'],\n                                            displayName:e['displayName'],\n                                        });\n                                    });\n                                    this.newContact.next(tm);\n                                    console.log(r,this.newContact );\n                                    \n                                });\n                            }\n                        }else{\n                            this.newContact.next([]);\n                        }\n\n                        this.contacts = this.contacts.map(contact => {\n                            return new Proveedor(contact);\n                        });\n                        \n                        this.onContactsChanged.next(this.contacts);\n                        resolve(this.contacts);\n                    }, reject);\n            }\n                \n              \n        );\n    }\n\n    /**\n     * Get user data\n     *\n     * @returns {Promise<any>}\n     */\n    getUserData(): Promise<any>\n    {\n        return new Promise((resolve, reject) => {\n                this._httpClient.get('api/contacts-user/5725a6802d10e277a0f35724')\n                    .subscribe((response: any) => {\n                        this.user = response;\n                        this.onUserDataChanged.next(this.user);\n                        resolve(this.user);\n                    }, reject);\n            }\n        );\n    }\n\n    /**\n     * Toggle selected contact by id\n     *\n     * @param id\n     */\n    toggleSelectedContact(id): void\n    {\n        // First, check if we already have that contact as selected...\n        if ( this.selectedContacts.length > 0 )\n        {\n            const index = this.selectedContacts.indexOf(id);\n\n            if ( index !== -1 )\n            {\n                this.selectedContacts.splice(index, 1);\n\n                // Trigger the next event\n                this.onSelectedContactsChanged.next(this.selectedContacts);\n\n                // Return\n                return;\n            }\n        }\n\n        // If we don't have it, push as selected\n        this.selectedContacts.push(id);\n\n        // Trigger the next event\n        this.onSelectedContactsChanged.next(this.selectedContacts);\n    }\n\n    /**\n     * Toggle select all\n     */\n    toggleSelectAll(): void\n    {\n        if ( this.selectedContacts.length > 0 )\n        {\n            this.deselectContacts();\n        }\n        else\n        {\n            this.selectContacts();\n        }\n    }\n\n    /**\n     * Select contacts\n     *\n     * @param filterParameter\n     * @param filterValue\n     */\n    selectContacts(filterParameter?, filterValue?): void\n    {\n        this.selectedContacts = [];\n\n        // If there is no filter, select all contacts\n        if ( filterParameter === undefined || filterValue === undefined )\n        {\n            this.selectedContacts = [];\n            this.contacts.map(contact => {\n                this.selectedContacts.push(contact.id);\n            });\n        }\n\n        // Trigger the next event\n        this.onSelectedContactsChanged.next(this.selectedContacts);\n    }\n\n    /**\n     * Update contact\n     *\n     * @param contact\n     * @returns {Promise<any>}\n     */\n    updateContact(contact): Promise<any>\n    {\n        return new Promise((resolve, reject) => {\n            console.log(contact);\n            const q=this.jmyService.dbRealTime.object(this.baseDB+'/'+contact.id)\n            q.set(contact).then(()=>{\n                console.log('Contacto Actualizado');                \n            });\n\n            this.getContacts();\n            resolve();\n\n        });\n    }\n\n    /**\n     * Update user data\n     *\n     * @param userData\n     * @returns {Promise<any>}\n     */\n    updateUserData(userData): Promise<any>\n    {\n        return new Promise((resolve, reject) => {\n            this._httpClient.post('api/contacts-user/' + this.user.id, {...userData})\n                .subscribe(response => {\n                    this.getUserData();\n                    this.getContacts();\n                    resolve(response);\n                });\n        });\n    }\n\n    /**\n     * Deselect contacts\n     */\n    deselectContacts(): void\n    {\n        this.selectedContacts = [];\n\n        // Trigger the next event\n        this.onSelectedContactsChanged.next(this.selectedContacts);\n    }\n\n    /**\n     * Delete contact\n     *\n     * @param contact\n     */\n    deleteContact(contact): void\n    {\n        console.log(contact);\n        \n        const contactIndex = this.contacts.indexOf(contact);\n        this.contacts.splice(contactIndex, 1);\n        this.onContactsChanged.next(this.contacts);\n\n        this.jmyService.dbRealTime.object(this.baseDB+'/'+contact.id).remove().then(()=>{  console.log('del',contact.id);\n       });\n    }\n\n    /**\n     * Delete selected contacts\n     */\n    deleteSelectedContacts(): void\n    {\n        for ( const contactId of this.selectedContacts )\n        {\n          \n            this.jmyService.dbRealTime.object(this.baseDB+'/'+contactId).remove().then(()=>{  console.log('del',contactId);\n            });\n            const contact = this.contacts.find(_contact => {\n                return _contact.id === contactId;\n            });\n            const contactIndex = this.contacts.indexOf(contact);\n            this.contacts.splice(contactIndex, 1);\n        }\n        this.onContactsChanged.next(this.contacts);\n        this.deselectContacts();\n    }\n\n}\n"],"sourceRoot":""}